<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrito de Compras</title>
</head>
<body>
    <h1>Carrito de Compras</h1>
    <input type="hidden" id="cart-id" value="{{cart._id}}"> 

    {{#if cart.products.length}}
    <ul>
        {{#each cart.products}}
        <li>
            <h2>{{this.productId.title}}</h2>
            <img src="{{this.productId.thumbnails}}" alt="{{this.productId.title}}" style="width:100px;height:auto;">
            <p>Descripcion: {{this.productId.description}}</p>
            <p>Precio: {{this.productId.price}}</p>
            <form id="updateForm-{{this.productId._id}}">
                <label for="quantity-{{this.productId._id}}">Cantidad:</label>
                <input type="number" id="quantity-{{this.productId._id}}" name="quantity" value="{{this.quantity}}" min="1">
                <button type="submit">Actualizar</button>
            </form>
            <form id="deleteForm-{{this.productId._id}}">
                <input type="hidden" name="productId" value="{{this.productId._id}}">
                <button type="submit">Eliminar</button>
            </form>
        </li>
        {{/each}}
    </ul>
    {{else}}
    <p>No hay productos en el carrito.</p>
    {{/if}}
    <button id="clearCartButton">Vaciar Carrito</button>
    <button id="checkoutButton">Finalizar Compra</button>

    <a href="/api/products">Volver a productos</a>
   
    <script src="/js/updateProductCart.js"></script>
    <script src="/js/deleteProductCart.js"></script>
    <script src="/js/clearCart.js"></script>
    <script src="/js/checkout.js"
</body>
</html>
